using UdonSharp;
using UnityEngine;
using VRC.SDKBase;
using VRC.Udon;

// 指定のオブジェクトがトリガーに入ったとき、テレポーターを出現させ、効果音を鳴らすスクリプト
public class U_TeleportActivatorTarget : UdonSharpBehaviour
{
    // 出現させたいテレポーター
    [SerializeField]
    private GameObject teleporter;

    // 対象となるオブジェクト（これがトリガーに入った時に反応）
    [SerializeField]
    private GameObject targetObject;

    // 効果音を再生する AudioSource（トリガーに入った瞬間に鳴る）
    [SerializeField]
    private AudioSource soundEffectSource;

    // トリガーに何かが入ったときに呼ばれる
    private void OnTriggerEnter(Collider other)
    {
        // 接触したオブジェクトが、設定したターゲットと一致するか確認
        if (other.gameObject == targetObject)
        {
            // テレポーターを表示（アクティブにする）
            if (teleporter != null)
            {
                teleporter.SetActive(true);
            }

            // 効果音を鳴らす（AudioSource が設定されている場合）
            if (soundEffectSource != null)
            {
                soundEffectSource.Play();
            }
        }
    }
}
